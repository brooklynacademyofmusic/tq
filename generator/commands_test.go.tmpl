{{ print "// Code generated by tq/generator; DO NOT EDIT." }}

package cmd

import (
    "testing"
)

{{ $selectedOp := .op }}

{{- range $name, $ops := .commands }}
{{- range $op, $commands := $ops }}
{{- if eq $op $selectedOp }}
{{- range $commands }}
func Test_{{ print $op "_" $name "_" .Variant "_cmd" }}(t *testing.T) {
        var flag string
        command := {{ print $op "_" $name "_cmd" }}
        {{ if ne .Variant "" -}}
        flag = "{{ .Variant }}"
        {{ end -}}

        testCommand(t, command, flag)
}
{{ end }}
{{- end }}
{{- end }}
{{- end }}